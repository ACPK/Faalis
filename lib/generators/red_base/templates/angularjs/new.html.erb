 <div class="newform">
  <fieldset class="form">

  <legend ng-if="!editing"><span translate>New <%= resource %></span></legend>
  <legend ng-if="editing"><span translate>Edit <%= resource %></span></legend>

  <% fields.each do |field_name, field_type| %>
    <%= cycle("<div class='row'>", "") %>
    <div class="small-4 columns <%= cycle("", "small-offset-2") %>">
      <label translate><%= field_name %> :</label>
      <% case field_type
         when "belongs_to" %>
      <select ng-model="<%= field_name %>" ng-options="name as i for i in <%= field_type.resource_name %>">
      </select>
      <% when "has_many" %>
      <select ng-model="<%= field_name %>" name="<%= field_name %>" multiple>
        <option ng-repeat="item in <%= field_type.resource_name %>" value="{{ item.id }}" title="{{ item.name || item }}" ng-selected="item.id === <% field_name %>">
      </select>
      <% when "text" %>
      <textarea ng-model="<%= field_name %>"></textarea>
      <% when "string", nil %>
      <input  ng-model="<%= field_name %>" type="text" class="<%= field_type %>_field">
      <% else %>
      <input  ng-model="<%= field_name %>" type="<%= field_type %>" class="<%= field_type %>_field">
      <% end %>
      <small></small>
    </div>
    <%= cycle("", "</div>") %>
  <% end %>
  </fieldset>


  <div class="row">
      <div class="small-6 columns">
        <button class="btn small green" ng-click="save()"><i class="fa fa-check"></i> <span translate>Save</span></button>
        <button class="btn small blue" ng-click="save_and_add()"><i class="fa fa-check"></i> <span translate>Save & Add Another</span></button>
        <button class="btn small red" ng-click="cancel()"><i class="fa fa-times"></i><span translate>Cansel</span></button>
      </div>
  </div>
</div>
